<!-- locals: records, controller, page, max_pages -->

<% keys = records.columns.map {|v| v.name.to_sym} << :page %>

<ul class="pagination">
    <% 1.upto(max_pages).each do |i| %>
    <% active = (i == page) ? "active" : "" %>
    <li class="page-item <%= active %>">
      <%= link_to(i, url_for(controller, :list, params_to_query(params.merge(page: i), keys))) %>
    </li>
    <% end %>
  </ul>
